<c-row ngPreserveWhitespaces>
  <c-col xs="12">
    <c-card class="mb-4">
      <c-card-header ngPreserveWhitespaces>
        <strong>Create New Quotation</strong>
      </c-card-header>
      <c-card-body>
        <form cForm class="row g-3 needs-validation" ngNativeValidate>

          <!-- Sales Quotation No. -->
          <c-col md="4">
            <label cLabel for="salesQuotationNo">Sales Quotation No.</label>
            <input cFormControl id="salesQuotationNo" required type="text" />
          </c-col>

          <!-- Quote Revision No. -->
          <c-col md="4">
            <label cLabel for="quoteRevNo">Quote Revision No.</label>
            <input cFormControl id="quoteRevNo" type="text" />
          </c-col>

          <!-- Quote Revision Date -->
          <c-col md="4">
            <label cLabel for="quoteRevDate">Quote Revision Date</label>
            <input cFormControl id="quoteRevDate" type="date" required />

          </c-col>

          <!-- Customer Inquiry No. -->
          <c-col md="4">
            <label cLabel for="customerInquiryNo">Customer Inquiry No.</label>
            <input cFormControl id="customerInquiryNo" required type="text" />

          </c-col>

          <!-- Sold-to Customer Number -->
          <c-col md="4">
            <label cLabel for="soldToCustomerNo">Sold-to Customer Number</label>
            <input cFormControl id="soldToCustomerNo" required type="text" />

          </c-col>

          <!-- Ship-to Customer Number -->
          <c-col md="4">
            <label cLabel for="shipToCustomerNo">Ship-to Customer Number</label>
            <input cFormControl id="shipToCustomerNo" required type="text" />

          </c-col>

          <!-- Sales Group -->
          <c-col md="4">
            <label cLabel for="salesGroup">Sales Group</label>
            <input cFormControl id="salesGroup" type="text" />
          </c-col>

          <!-- Customer Name 1 -->
          <c-col md="4">
            <label cLabel for="customerName1">Customer Name 1</label>
            <input cFormControl id="customerName1" required type="text" />

          </c-col>

          <!-- Customer Name 2 -->
          <c-col md="4">
            <label cLabel for="customerName2">Customer Name 2</label>
            <input cFormControl id="customerName2" type="text" />
          </c-col>

          <!-- Trading Currency -->
          <c-col md="4">
            <label cLabel for="tradingCurrency">Trading Currency</label>
            <input cFormControl id="tradingCurrency" type="text" />
          </c-col>

          <!-- Term of Payment -->
          <c-col md="4">
            <label cLabel for="termOfPayment">Term of Payment</label>
            <input cFormControl id="termOfPayment" type="text" required />
          </c-col>

          <!-- Incoterms -->
          <c-col md="4">
            <label cLabel for="incoterms">Incoterms</label>
            <input cFormControl id="incoterms" type="text" />
          </c-col>

          <!-- Incoterms (Port) -->
          <c-col md="4">
            <label cLabel for="incotermsPort">Incoterms (Port)</label>
            <input cFormControl id="incotermsPort" type="text" />
          </c-col>

          <!-- Sales Person No. -->
          <c-col md="4">
            <label cLabel for="salesPersonNo">Sales Person No.</label>
            <input cFormControl id="salesPersonNo" required type="text" />
          </c-col>

          <!-- Delivery Date -->
          <c-col md="4">
            <label cLabel for="deliveryDate">Delivery Date</label>
            <input cFormControl id="deliveryDate" type="date" required />
            <c-form-feedback [valid]="false">Please enter a valid delivery date.</c-form-feedback>
          </c-col>

          <!-- Customer PO No. -->
          <c-col md="4">
            <label cLabel for="customerPONo">Customer PO No.</label>
            <input cFormControl id="customerPONo" type="text" />
          </c-col>

          <!-- Approval Status -->
          <c-col md="4">
            <label cLabel for="approvalStatus">Approval Status</label>
            <input cFormControl id="approvalStatus" type="text" />
          </c-col>

          <!-- Material Number -->
          <c-col md="4">
            <label cLabel for="materialNumber">Material Number</label>
            <input cFormControl id="materialNumber" required type="text" />
          </c-col>

          <!-- Full Material Description -->
          <c-col md="4">
            <label cLabel for="fullMaterialDescription">Full Material Description</label>
            <input cFormControl id="fullMaterialDescription" required type="text" />
          </c-col>

          <!-- Order Quantity -->
          <c-col md="4">
            <label cLabel for="orderQuantity">Order Quantity</label>
            <input cFormControl id="orderQuantity" type="number" required />
          </c-col>

          <!-- Price per Unit -->
          <c-col md="4">
            <label cLabel for="pricePerUnit">Price per Unit</label>
            <input cFormControl id="pricePerUnit" type="number" required />
          </c-col>

          <!-- Discount -->
          <c-col md="4">
            <label cLabel for="discount">Discount</label>
            <input cFormControl id="discount" type="number" />
          </c-col>

          <!-- Surcharge -->
          <c-col md="4">
            <label cLabel for="surcharge">Surcharge</label>
            <input cFormControl id="surcharge" type="number" />
          </c-col>

          <!-- Order Net Value -->
          <c-col md="4">
            <label cLabel for="orderNetValue">Order Net Value</label>
            <input cFormControl id="orderNetValue" type="number" required />
          </c-col>

          <!-- Item Details Table -->
          <c-col xs="12">
            <c-card class="mb-4">
              <c-card-header>
                <strong>Item Details</strong>
              </c-card-header>
              <c-card-body>
                <div style="overflow-x: auto;">
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Item Number</th>
                        <th>Price</th>
                        <th>UoM</th>
                        <th>Material</th>
                        <th>Material Description</th>
                        <th>Discount (%)</th>
                        <th>Quantity</th>
                        <th>Actions</th> <!-- New column for actions -->
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of items; let i = index">
                        <td><input type="number" [(ngModel)]="item.itemNumber" required /></td>
                        <td><input type="number" [(ngModel)]="item.price" required /></td>
                        <td>
                          <select [(ngModel)]="item.uom">
                            <option *ngFor="let uomOption of uomOptions" [value]="uomOption">{{uomOption}}</option>
                          </select>
                        </td>
                        <td><input type="text" [(ngModel)]="item.material" required /></td>
                        <td><input type="text" [(ngModel)]="item.materialDescription" required /></td>
                        <td><input type="number" [(ngModel)]="item.discount" min="0" max="100" /></td>
                        <td><input type="number" [(ngModel)]="item.quantity" required /></td>
                        <td>
                          <button (click)="removeItem(i)" class="btn btn-danger btn-sm">Delete</button> <!-- Delete button -->
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <button cButton color="secondary" (click)="addItem()">Add Item</button>
              </c-card-body>
            </c-card>
          </c-col>

          <!-- Submit Button -->
          <c-col xs="12">
            <button cButton color="primary" type="submit">
              Submit Quotation
            </button>
          </c-col>

        </form>
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
